---
Ресурсы:

// оф сайт
- [ https://www.mongodb.com/ ]



---
элементы документа 

[?] - информация потенциально для многократного использования
[!] - была ошибка, недочет, нашли решение 
[*] - важное контекстное примечание 
[#<имяТега>] - так можим выносить различного рода информацию, оставляя ссылку 

---
краткое описание 

- [ MongoDB ] документоориентированная система управления базами данных (СУБД) 
с открытым исходным кодом, не требующая описания схемы таблиц. 
Классифицирована как NoSQL, использует JSON-подобные документы и схему базы данных. 
Написана на языке C++.

 

1) устанавливаем [ https://docs.mongodb.com/manual/tutorial/install-mongodb-on-ubuntu/ ]
  - [ wget -qO - https://www.mongodb.org/static/pgp/server-4.2.asc | sudo apt-key add - ]
  - [ echo "deb [ arch=amd64 ] https://repo.mongodb.org/apt/ubuntu bionic/mongodb-org/4.2 multiverse" | sudo tee /etc/apt/sources.list.d/mongodb-org-4.2.list ]
  - [ sudo apt-get update ]
  - [ sudo apt-get install -y mongodb-org ]
  - [
echo "mongodb-org hold" | sudo dpkg --set-selections
echo "mongodb-org-server hold" | sudo dpkg --set-selections
echo "mongodb-org-shell hold" | sudo dpkg --set-selections
echo "mongodb-org-mongos hold" | sudo dpkg --set-selections
echo "mongodb-org-tools hold" | sudo dpkg --set-selections
  ]


2) настройка
  - работа memcached задается через файл [ /etc/mongod.conf ]
  - файл логов [ /var/log/mongodb ]
  - стартуем сервис [ sudo service mongod start ]
    - (*) порт по умолчанию [ 27017 ]
  - чтобы подключиться к запущенному инстансу пишем [ mongo ]
  

3) работа [ https://docs.mongodb.com/manual/reference/mongo-shell/ ]
  - подключаемся через консольный клиент [ mongo ]
  - КОМАНДЫ ПОМОШНИКИ:
    - смотрим список баз данных [ show dbs ]
    - подключаемся к базе [ use <имя базы> ]
    - посмотреть список коллекций [ db.getCollectionNames() ]
    - посмотреть информацию о коллекциях [ db.getCollectionInfos() ] 
  - КОМАНДЫ ЗАПРОСОВ: (*) примеры запросов есть дальше
    - поиск [ db.collection_name.find({запрос}, {оператор проекции}) ]
      - collection_name - имя коллекции
      - запрос - определяем какие документы ищем
      - оператор проекции - определяем что хотим видеть в результате
        - состоит из пар "название поля: флаг отображен (1 — отображать, 0 — не отображать).


4) примеры
  - команды поиска
    - Найти все документы в коллекции
      - [ db.collection_name.find() ]
    - оператор AND
      - [ db.collection_name.find({name:"Ivan", email: "ivan@example.com"}) ]
    - оператор OR 
      - [ db.collection_name.find({$or: [{name: "Ivan"}, {email: "ivan@example.com"}]}) ]  
    - оператор IN 
      - [ db.collection_name.find({name: {$in : ["Ivan", "Petr"]}}) ]
    - найти документы у которых есть такое поле 
      - [ db.collection_name.find({name: {$exists : true}}) ]
  

5) как ограничить число результатов
  - [ skip ] пропустив N элементов
  - [ limit ] задать максимальное количество выводимых результатов 
  - (*) пример: вывести только шестой и седьмой документы 
    - [ db.collection_name.find().skip(5).limit(2) ]


6) как отсортировань результат
  - [ sort ] операциея сортировки
  - (*) пример:
    - [ db.collection_name.find().sort({<field1>: <order>, <field2>: <order>}) ]
      - [ fieldN ] — это название поля
      - [ order ] — порядок сортировки (1 — по возрастанию, -1 — по убыванию). 


7) как посчитать количество результатов запроса
  - [ count ] оператор подсчета документов в результате
  - (*) пример
    - [ db.collection_name.find({...}).count() ]



[?] nop
  - nop

 
 
// #c 
#----------------------------------------------- 

 

#----------------------------------------------- 
 
